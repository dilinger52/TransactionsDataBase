<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <link href="main.css" rel="stylesheet">
    <script src="main.js"></script>
</head>
<body>
<form method="get" action="client">
    <label for="client_name">Client</label>
    <input type="text" list="client_datalist" id="client_name" name="client_name" onclick="myFunction()" placeholder="Поиск.." onkeyup="filterFunction()">
    <datalist id="client_datalist">
        <option th:each="client : ${session.clients}" th:value="${client.client.pib}"></option>
    </datalist>
</form>
    <table>
        <tr>
            <th>PIB</th>
            <th>USD</th>
            <th>UAH</th>
            <th>Details</th>
        </tr>
        <tr th:each="client : ${session.clients}">
            <th th:text="${client.client.pib}"></th>
            <th:block th:each="currency : ${client.currencies}">
                <th th:text="${#numbers.formatDecimal(currency.amount, 1, 'POINT', 2, 'COMMA')}"></th>
            </th:block>
            <th th:if="${client.client.pib != 'Total'}">
                <form metod="get" action="client_info">
                    <input type="hidden" name="client_id" th:value="${client.client.id}">
                    <input type="submit" value="view info">
                </form>
            </th>
        </tr>
    </table>

<form method="get" action="add_transaction">
    <input type="submit" value="New transaction">
</form>
</body>
